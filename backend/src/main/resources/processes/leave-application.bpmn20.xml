<?xml version='1.0' encoding='UTF-8'?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/processdef">
  <process id="leave-application" name="leave-application" isExecutable="true">
    <documentation>Workflow for application for a leave.</documentation>
    <startEvent id="startEvent1"/>
    <exclusiveGateway id="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A"/>
    <userTask id="sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135" name="Manager reviews the application"/>
    <sequenceFlow id="sid-D4861E45-774A-434E-B6A6-F86F9BDCB538" sourceRef="sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135" targetRef="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A"/>
    <serviceTask id="sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5" name="Mark application as rejected by Manager" activiti:expression="${leaveApplicationServiceImpl.rejectLeaveApplicationByManager(leaveApplicationId)}"/>
    <endEvent id="sid-6D041B61-281D-45E5-A868-FCD333934B61"/>
    <sequenceFlow id="sid-669E07D7-5A45-474B-A4F0-882750233458" sourceRef="sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5" targetRef="sid-6D041B61-281D-45E5-A868-FCD333934B61"/>
    <serviceTask id="sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273" name="Mark application as accepted by Manager" activiti:expression="${leaveApplicationServiceImpl.approveLeaveApplicationByManager(leaveApplicationId)}"/>
    <userTask id="sid-C57611C2-8D56-4653-9068-4FA5F1068DC8" name="HR reviews the application"/>
    <sequenceFlow id="sid-8DF2294F-A718-4825-8C56-C83775D8E1A3" sourceRef="sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273" targetRef="sid-C57611C2-8D56-4653-9068-4FA5F1068DC8"/>
    <exclusiveGateway id="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0"/>
    <sequenceFlow id="sid-589996B0-48BA-496B-86F9-576736E2B4BC" sourceRef="sid-C57611C2-8D56-4653-9068-4FA5F1068DC8" targetRef="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0"/>
    <serviceTask id="sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6" name="Mark application as rejected by HR" activiti:expression="${leaveApplicationServiceImpl.rejectLeaveApplicationByHr(leaveApplicationId)}"/>
    <endEvent id="sid-6528DB99-3BF1-4948-BF19-DC0F926AAE85"/>
    <sequenceFlow id="sid-AC33EC3A-3689-424A-A639-F618DC57DE0B" sourceRef="sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6" targetRef="sid-6528DB99-3BF1-4948-BF19-DC0F926AAE85"/>
    <serviceTask id="sid-0461F094-B896-4734-84E0-4BA3D684BB6B" name="Mark application as accepted by HR" activiti:expression="${leaveApplicationServiceImpl.approveLeaveApplicationByHr(leaveApplicationId)}"/>
    <endEvent id="sid-6AB9146E-06F3-4DC8-88F8-84B57BC0886A"/>
    <sequenceFlow id="sid-5194F72B-4DDF-42E8-968C-7E57A9A65B3E" sourceRef="sid-0461F094-B896-4734-84E0-4BA3D684BB6B" targetRef="sid-6AB9146E-06F3-4DC8-88F8-84B57BC0886A"/>
    <sequenceFlow id="sid-C2BA8912-A157-4DA6-9877-643CDFABB001" name="Accepted" sourceRef="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0" targetRef="sid-0461F094-B896-4734-84E0-4BA3D684BB6B">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${approvedByHR == true}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-D08CA74F-84EE-4FF2-9CB4-421C5C15850F" name="Rejected" sourceRef="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0" targetRef="sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${rejectedByHR == true}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-C86A37E3-3C0E-42D9-9FBD-286F20E2D759" default="sid-F31A9A58-6527-4BA0-89C9-02948A4781C6"/>
    <sequenceFlow id="sid-F2279020-8DCE-48AE-81A1-24FA512C9909" name="Application recorded" sourceRef="startEvent1" targetRef="sid-C86A37E3-3C0E-42D9-9FBD-286F20E2D759"/>
    <sequenceFlow id="sid-5DD24A07-7E39-4E03-B86D-D129887AC1C7" name="Accepted" sourceRef="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A" targetRef="sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${approvedByManager == true}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-F31A9A58-6527-4BA0-89C9-02948A4781C6" name="Employee" sourceRef="sid-C86A37E3-3C0E-42D9-9FBD-286F20E2D759" targetRef="sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135"/>
    <sequenceFlow id="sid-7172DFFF-DF18-45D9-9179-762AF16B2EE0" name="Manager" sourceRef="sid-C86A37E3-3C0E-42D9-9FBD-286F20E2D759" targetRef="sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${role == "MANAGER"}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-CCCF894B-7BC0-43B3-B7FF-59401231AACA" name="HR Team Member" sourceRef="sid-C86A37E3-3C0E-42D9-9FBD-286F20E2D759" targetRef="sid-0461F094-B896-4734-84E0-4BA3D684BB6B">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${role == "HRTEAMMEMBER"}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-8628F8A5-628A-4189-AD00-81856C7121D7" name="Rejected" sourceRef="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A" targetRef="sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${rejectedByManager == true}]]></conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_leave-application">
    <bpmndi:BPMNPlane bpmnElement="leave-application" id="BPMNPlane_leave-application">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="18.518518188062956" y="221.55555492181674"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A" id="BPMNShape_sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A">
        <omgdc:Bounds height="40.00000000000003" width="40.0" x="532.5925730166098" y="216.55555216510194"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135" id="BPMNShape_sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135">
        <omgdc:Bounds height="80.0" width="99.99999999999994" x="354.44443651351105" y="196.55554694969572"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5" id="BPMNShape_sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5">
        <omgdc:Bounds height="79.99999999999999" width="100.00000000000006" x="502.5925745288018" y="18.518518188062956"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D041B61-281D-45E5-A868-FCD333934B61" id="BPMNShape_sid-6D041B61-281D-45E5-A868-FCD333934B61">
        <omgdc:Bounds height="28.0" width="28.0" x="870.3703418694303" y="44.51851752468535"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273" id="BPMNShape_sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273">
        <omgdc:Bounds height="80.0" width="100.0" x="663.5185181880634" y="196.5555544747819"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-C57611C2-8D56-4653-9068-4FA5F1068DC8" id="BPMNShape_sid-C57611C2-8D56-4653-9068-4FA5F1068DC8">
        <omgdc:Bounds height="80.0" width="100.0" x="813.5185181880634" y="196.5555544747819"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0" id="BPMNShape_sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0">
        <omgdc:Bounds height="40.0" width="40.0" x="963.5185181880634" y="216.5555544747819"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6" id="BPMNShape_sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6">
        <omgdc:Bounds height="80.0" width="100.0" x="933.5185181880634" y="61.5555544747819"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6528DB99-3BF1-4948-BF19-DC0F926AAE85" id="BPMNShape_sid-6528DB99-3BF1-4948-BF19-DC0F926AAE85">
        <omgdc:Bounds height="28.0" width="28.0" x="1100.5185181880634" y="87.5555544747819"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0461F094-B896-4734-84E0-4BA3D684BB6B" id="BPMNShape_sid-0461F094-B896-4734-84E0-4BA3D684BB6B">
        <omgdc:Bounds height="80.0" width="100.0" x="933.5185181880634" y="331.5555544747819"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6AB9146E-06F3-4DC8-88F8-84B57BC0886A" id="BPMNShape_sid-6AB9146E-06F3-4DC8-88F8-84B57BC0886A">
        <omgdc:Bounds height="28.0" width="28.0" x="1100.5185181880634" y="357.5555544747819"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-C86A37E3-3C0E-42D9-9FBD-286F20E2D759" id="BPMNShape_sid-C86A37E3-3C0E-42D9-9FBD-286F20E2D759">
        <omgdc:Bounds height="40.0" width="40.0" x="187.7777728209444" y="216.5555494083872"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-669E07D7-5A45-474B-A4F0-882750233458" id="BPMNEdge_sid-669E07D7-5A45-474B-A4F0-882750233458">
        <omgdi:waypoint x="602.5925745288018" y="58.51851808808976"/>
        <omgdi:waypoint x="870.3703418694303" y="58.51851755267785"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CCCF894B-7BC0-43B3-B7FF-59401231AACA" id="BPMNEdge_sid-CCCF894B-7BC0-43B3-B7FF-59401231AACA">
        <omgdi:waypoint x="208.2777728209444" y="256.0555494083872"/>
        <omgdi:waypoint x="208.27777282094442" y="371.55555447478184"/>
        <omgdi:waypoint x="933.5185181880634" y="371.5555544747819"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-8DF2294F-A718-4825-8C56-C83775D8E1A3" id="BPMNEdge_sid-8DF2294F-A718-4825-8C56-C83775D8E1A3">
        <omgdi:waypoint x="763.5185181880634" y="236.5555544747819"/>
        <omgdi:waypoint x="813.5185181880634" y="236.5555544747819"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-AC33EC3A-3689-424A-A639-F618DC57DE0B" id="BPMNEdge_sid-AC33EC3A-3689-424A-A639-F618DC57DE0B">
        <omgdi:waypoint x="1033.5185181880634" y="101.5555544747819"/>
        <omgdi:waypoint x="1100.5185181880634" y="101.5555544747819"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-C2BA8912-A157-4DA6-9877-643CDFABB001" id="BPMNEdge_sid-C2BA8912-A157-4DA6-9877-643CDFABB001">
        <omgdi:waypoint x="983.5185181880634" y="256.5555544747819"/>
        <omgdi:waypoint x="983.5185181880634" y="331.5555544747819"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-D08CA74F-84EE-4FF2-9CB4-421C5C15850F" id="BPMNEdge_sid-D08CA74F-84EE-4FF2-9CB4-421C5C15850F">
        <omgdi:waypoint x="983.5185181880634" y="216.5555544747819"/>
        <omgdi:waypoint x="983.5185181880634" y="141.5555544747819"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-5194F72B-4DDF-42E8-968C-7E57A9A65B3E" id="BPMNEdge_sid-5194F72B-4DDF-42E8-968C-7E57A9A65B3E">
        <omgdi:waypoint x="1033.5185181880634" y="371.5555544747819"/>
        <omgdi:waypoint x="1100.5185181880634" y="371.5555544747819"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-D4861E45-774A-434E-B6A6-F86F9BDCB538" id="BPMNEdge_sid-D4861E45-774A-434E-B6A6-F86F9BDCB538">
        <omgdi:waypoint x="454.444436513511" y="236.55554870989548"/>
        <omgdi:waypoint x="532.5925737206896" y="236.5555514610221"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-7172DFFF-DF18-45D9-9179-762AF16B2EE0" id="BPMNEdge_sid-7172DFFF-DF18-45D9-9179-762AF16B2EE0">
        <omgdi:waypoint x="208.2777728209444" y="217.0555494083872"/>
        <omgdi:waypoint x="208.2777728209444" y="123.45679239166742"/>
        <omgdi:waypoint x="713.5185181880634" y="123.45679239166739"/>
        <omgdi:waypoint x="713.5185181880634" y="196.5555544747819"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-8628F8A5-628A-4189-AD00-81856C7121D7" id="BPMNEdge_sid-8628F8A5-628A-4189-AD00-81856C7121D7">
        <omgdi:waypoint x="552.5925731864836" y="216.55555233497583"/>
        <omgdi:waypoint x="552.5925741890541" y="98.51851818806294"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F31A9A58-6527-4BA0-89C9-02948A4781C6" id="BPMNEdge_sid-F31A9A58-6527-4BA0-89C9-02948A4781C6">
        <omgdi:waypoint x="227.2777728209444" y="237.0555494083872"/>
        <omgdi:waypoint x="354.44443651351105" y="237.0555494083872"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-589996B0-48BA-496B-86F9-576736E2B4BC" id="BPMNEdge_sid-589996B0-48BA-496B-86F9-576736E2B4BC">
        <omgdi:waypoint x="913.5185181880634" y="236.5555544747819"/>
        <omgdi:waypoint x="963.5185181880634" y="236.5555544747819"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-5DD24A07-7E39-4E03-B86D-D129887AC1C7" id="BPMNEdge_sid-5DD24A07-7E39-4E03-B86D-D129887AC1C7">
        <omgdi:waypoint x="572.592572729561" y="236.55555245215075"/>
        <omgdi:waypoint x="663.5185181880634" y="236.5555537571599"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F2279020-8DCE-48AE-81A1-24FA512C9909" id="BPMNEdge_sid-F2279020-8DCE-48AE-81A1-24FA512C9909">
        <omgdi:waypoint x="48.51845679650418" y="236.5984704550677"/>
        <omgdi:waypoint x="188.22038769419123" y="236.99816428163405"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
