<?xml version='1.0' encoding='UTF-8'?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/processdef">
  <process id="leave-application" name="leave-application" isExecutable="true">
    <documentation>Workflow for application for a leave.</documentation>
    <startEvent id="startEvent1"/>
    <exclusiveGateway id="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A"/>
    <userTask id="sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135" name="Manager reviews the application"/>
    <sequenceFlow id="sid-F2279020-8DCE-48AE-81A1-24FA512C9909" name="Application recorded" sourceRef="startEvent1" targetRef="sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135"/>
    <sequenceFlow id="sid-D4861E45-774A-434E-B6A6-F86F9BDCB538" sourceRef="sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135" targetRef="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A"/>
    <serviceTask id="sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5" name="Mark application as rejected by Manager" activiti:expression="${leaveApplicationServiceImpl.rejectLeaveApplication(role, leaveApplicationId)}"/>
    <endEvent id="sid-6D041B61-281D-45E5-A868-FCD333934B61"/>
    <sequenceFlow id="sid-669E07D7-5A45-474B-A4F0-882750233458" sourceRef="sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5" targetRef="sid-6D041B61-281D-45E5-A868-FCD333934B61"/>
    <serviceTask id="sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273" name="Mark application as accepted by Manager" activiti:expression="${leaveApplicationServiceImpl.approveLeaveApplication(role, leaveApplicationId)}"/>
    <userTask id="sid-C57611C2-8D56-4653-9068-4FA5F1068DC8" name="HR reviews the application"/>
    <sequenceFlow id="sid-8DF2294F-A718-4825-8C56-C83775D8E1A3" sourceRef="sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273" targetRef="sid-C57611C2-8D56-4653-9068-4FA5F1068DC8"/>
    <exclusiveGateway id="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0"/>
    <sequenceFlow id="sid-589996B0-48BA-496B-86F9-576736E2B4BC" sourceRef="sid-C57611C2-8D56-4653-9068-4FA5F1068DC8" targetRef="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0"/>
    <serviceTask id="sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6" name="Mark application as rejected by HR" activiti:expression="${leaveApplicationServiceImpl.rejectLeaveApplication(role, leaveApplicationId)}"/>
    <endEvent id="sid-6528DB99-3BF1-4948-BF19-DC0F926AAE85"/>
    <sequenceFlow id="sid-AC33EC3A-3689-424A-A639-F618DC57DE0B" sourceRef="sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6" targetRef="sid-6528DB99-3BF1-4948-BF19-DC0F926AAE85"/>
    <serviceTask id="sid-0461F094-B896-4734-84E0-4BA3D684BB6B" name="Mark application as accepted by HR" activiti:expression="${leaveApplicationServiceImpl.approveLeaveApplication(role, leaveApplicationId)}"/>
    <endEvent id="sid-6AB9146E-06F3-4DC8-88F8-84B57BC0886A"/>
    <sequenceFlow id="sid-5194F72B-4DDF-42E8-968C-7E57A9A65B3E" sourceRef="sid-0461F094-B896-4734-84E0-4BA3D684BB6B" targetRef="sid-6AB9146E-06F3-4DC8-88F8-84B57BC0886A"/>
    <sequenceFlow id="sid-8628F8A5-628A-4189-AD00-81856C7121D7" name="Rejected" sourceRef="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A" targetRef="sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${rejectedByManager == true}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-5DD24A07-7E39-4E03-B86D-D129887AC1C7" name="Accepted" sourceRef="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A" targetRef="sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${approvedByManager == true}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-C2BA8912-A157-4DA6-9877-643CDFABB001" name="Accepted" sourceRef="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0" targetRef="sid-0461F094-B896-4734-84E0-4BA3D684BB6B">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${approvedByHR == true}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-D08CA74F-84EE-4FF2-9CB4-421C5C15850F" name="Rejected" sourceRef="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0" targetRef="sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${rejectedByHR == true}]]></conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_leave-application">
    <bpmndi:BPMNPlane bpmnElement="leave-application" id="BPMNPlane_leave-application">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="90.0" y="190.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A" id="BPMNShape_sid-22DABFDC-033A-4B20-9F2A-8FBE66E2D79A">
        <omgdc:Bounds height="40.0" width="40.0" x="440.0" y="185.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135" id="BPMNShape_sid-5A508ADC-C959-4F82-9AB1-D5AF50E87135">
        <omgdc:Bounds height="80.0" width="100.0" x="290.0" y="165.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5" id="BPMNShape_sid-ED493EB6-19CB-4509-A07E-1ADECA136EE5">
        <omgdc:Bounds height="80.0" width="100.0" x="555.0" y="24.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D041B61-281D-45E5-A868-FCD333934B61" id="BPMNShape_sid-6D041B61-281D-45E5-A868-FCD333934B61">
        <omgdc:Bounds height="28.0" width="28.0" x="720.0" y="50.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273" id="BPMNShape_sid-D2BFCAD6-FCA5-4FE5-8B63-16C30C423273">
        <omgdc:Bounds height="80.0" width="100.0" x="555.0" y="165.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-C57611C2-8D56-4653-9068-4FA5F1068DC8" id="BPMNShape_sid-C57611C2-8D56-4653-9068-4FA5F1068DC8">
        <omgdc:Bounds height="80.0" width="100.0" x="705.0" y="165.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0" id="BPMNShape_sid-DB6ACAE2-73EC-47E9-B5C2-5084E38696C0">
        <omgdc:Bounds height="40.0" width="40.0" x="855.0" y="185.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6" id="BPMNShape_sid-3354A1FB-D3AA-4971-BB90-446AD17C1AD6">
        <omgdc:Bounds height="80.0" width="100.0" x="825.0" y="30.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6528DB99-3BF1-4948-BF19-DC0F926AAE85" id="BPMNShape_sid-6528DB99-3BF1-4948-BF19-DC0F926AAE85">
        <omgdc:Bounds height="28.0" width="28.0" x="992.0" y="56.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0461F094-B896-4734-84E0-4BA3D684BB6B" id="BPMNShape_sid-0461F094-B896-4734-84E0-4BA3D684BB6B">
        <omgdc:Bounds height="80.0" width="100.0" x="825.0" y="300.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6AB9146E-06F3-4DC8-88F8-84B57BC0886A" id="BPMNShape_sid-6AB9146E-06F3-4DC8-88F8-84B57BC0886A">
        <omgdc:Bounds height="28.0" width="28.0" x="992.0" y="326.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-669E07D7-5A45-474B-A4F0-882750233458" id="BPMNEdge_sid-669E07D7-5A45-474B-A4F0-882750233458">
        <omgdi:waypoint x="655.0" y="64.0"/>
        <omgdi:waypoint x="720.0" y="64.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-8DF2294F-A718-4825-8C56-C83775D8E1A3" id="BPMNEdge_sid-8DF2294F-A718-4825-8C56-C83775D8E1A3">
        <omgdi:waypoint x="655.0" y="205.0"/>
        <omgdi:waypoint x="705.0" y="205.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-AC33EC3A-3689-424A-A639-F618DC57DE0B" id="BPMNEdge_sid-AC33EC3A-3689-424A-A639-F618DC57DE0B">
        <omgdi:waypoint x="925.0" y="70.0"/>
        <omgdi:waypoint x="992.0" y="70.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-C2BA8912-A157-4DA6-9877-643CDFABB001" id="BPMNEdge_sid-C2BA8912-A157-4DA6-9877-643CDFABB001">
        <omgdi:waypoint x="875.429104477612" y="224.57089552238807"/>
        <omgdi:waypoint x="875.1486988847583" y="300.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-8628F8A5-628A-4189-AD00-81856C7121D7" id="BPMNEdge_sid-8628F8A5-628A-4189-AD00-81856C7121D7">
        <omgdi:waypoint x="460.5" y="185.5"/>
        <omgdi:waypoint x="460.5" y="64.0"/>
        <omgdi:waypoint x="555.0" y="64.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-589996B0-48BA-496B-86F9-576736E2B4BC" id="BPMNEdge_sid-589996B0-48BA-496B-86F9-576736E2B4BC">
        <omgdi:waypoint x="805.0" y="205.0"/>
        <omgdi:waypoint x="855.0" y="205.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-5DD24A07-7E39-4E03-B86D-D129887AC1C7" id="BPMNEdge_sid-5DD24A07-7E39-4E03-B86D-D129887AC1C7">
        <omgdi:waypoint x="479.56597222222223" y="205.43402777777777"/>
        <omgdi:waypoint x="555.0" y="205.17301038062283"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-D08CA74F-84EE-4FF2-9CB4-421C5C15850F" id="BPMNEdge_sid-D08CA74F-84EE-4FF2-9CB4-421C5C15850F">
        <omgdi:waypoint x="875.425925925926" y="185.42592592592592"/>
        <omgdi:waypoint x="875.1476014760148" y="110.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F2279020-8DCE-48AE-81A1-24FA512C9909" id="BPMNEdge_sid-F2279020-8DCE-48AE-81A1-24FA512C9909">
        <omgdi:waypoint x="120.0" y="205.0"/>
        <omgdi:waypoint x="290.0" y="205.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-5194F72B-4DDF-42E8-968C-7E57A9A65B3E" id="BPMNEdge_sid-5194F72B-4DDF-42E8-968C-7E57A9A65B3E">
        <omgdi:waypoint x="925.0" y="340.0"/>
        <omgdi:waypoint x="992.0" y="340.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-D4861E45-774A-434E-B6A6-F86F9BDCB538" id="BPMNEdge_sid-D4861E45-774A-434E-B6A6-F86F9BDCB538">
        <omgdi:waypoint x="390.0" y="205.0"/>
        <omgdi:waypoint x="440.0" y="205.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
